<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous" />
  <link href="./css/style.css" rel="stylesheet" />
  <link href="./css/color.css" rel="stylesheet" />
  <title>Home</title>
</head>

<body>
  <nav class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
    <div class="container">
      <a class="navbar-brand" href="index.html">
        <img src="images/logo.png" alt="Your Logo" class="logo img-fluid" />
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
        aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav me-auto">
          <li class="nav-item">
            <a class="nav-link" href="index.html">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="grooming.html">Grooming</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="petbonding.html">Bonding</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="petrest.html">Pet Rest</a>
          </li>
        </ul>
      </div>
      <div class="collapse navbar-collapse" id="navbarNav">
        <!-- ms-auto: margin-left: auto -->
        <ul class="navbar-nav ms-auto">
          <li class="nav-item">
            <a id="profileButton" href="profile.html" class="nav-link">Profile</a>
          </li>
          <li class="nav-item">
            <a id="logoutButton" href="#" class="nav-link">Logout</a>
          </li>
          <li class="nav-item">
            <a id="loginButton" href="login.html" class="nav-link">Login</a>
          </li>
          <li>
            <div class="btn-nav">
              <a id="registerButton" class="btn navbar-btn" href="register.html">Register!</a>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <main class="py-4">
    <div class="container-fluid" style="margin-top: 3rem;">
      <div class="row justify-content-center">
        <div class="col-md-10">
          <br><br><br>
          <h6 class="mb-6 text-center" style="font-family: verdana, sans-serif; font-size: 40px;">Pet Bonding</h6>
          <div class="container">
            <div id="bondingList" class="row">
              <div class="col-xl-4 col-lg-4 col-md-6 col-sm-12 col-xs-12 p-3">
                <div class="card">
                  <div class="card-body">
                    <h7 class="card-title" style="font-weight: bold">Admin</h7>
                    <p class="card-text">
                      "Petbonding ID:"
                      <br>
                      "Pet ID:"
                      <br>
                      "Groom ID:"
                      <br>
                      "Feed:"
                    </p>
                  </div>
                  </div>
                  <a id="sendgroomingButton" href="grooming.html" class="btn text-bg-primary btn navbar-btn">Send for Grooming</a> 

                </div>
                <script>
                  // Function to fetch pet bonding data from the API
                  async function fetchPetBondingData() {
                    try {
                      const response = await fetch('/api/petbonding'); // Replace with your actual endpoint
                      if (!response.ok) {
                        throw new Error('Failed to fetch data');
                      }
                      const data = await response.json();
                      return data;
                    } catch (error) {
                      console.error('Error fetching pet bonding data:', error);
                      return null;
                    }
                  }
            
                  // Function to dynamically create cards for displaying pet bonding data
                  async function displayPetBondingData() {
                    const bondingListContainer = document.getElementById('bondingList');
                    bondingListContainer.innerHTML = ''; // Clear previous content
            
                    const petBondingData = await fetchPetBondingData();
                    if (!petBondingData) return; // Exit if data fetch failed
            
                    petBondingData.forEach(bonding => {
                      const cardDiv = document.createElement('div');
                      cardDiv.classList.add('col-xl-4', 'col-lg-4', 'col-md-6', 'col-sm-12', 'col-xs-12', 'p-3');
                      cardDiv.innerHTML = `
                        <div class="card">
                          <div class="card-body">
                            <h7 class="card-title" style="font-weight: bold">Admin</h7>
                            <p class="card-text">
                              "Petbonding ID: ${bonding.petbonding_id}"
                              <br>
                              "Pet ID: ${bonding.pet_id}"
                              <br>
                              "Groom ID: ${bonding.groom_id}"
                              <br>
                              "Feed: ${bonding.feed}"
                            </p>
                          </div>
                        </div>
                      `;
                      bondingListContainer.appendChild(cardDiv);
                    });
                  }
            
                  // Call the function to display pet bonding data
                  displayPetBondingData();
                </script>                
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    </div>
   
    </div>
  </main>

  <footer class="mt-auto py-3 bg-primary text-bg-primary text-center">
    <br>
    <p class="m-0 py-0 px-8"> &copy; 2024 PetLink. All Rights Reserved.</p><br>
    <div>
      <a href="grooming.html" class="text-white mx-5">Grooming</a>
      <a href="petbonding.html" class="text-white mx-5">Bonding</a>
      <a href="petrest.html" class="text-white mx-5">Pet Rest</a>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
    integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"
    integrity="sha384-fbbOQedDUMZZ5KreZpsbe1LCZPVmfTnH7ois6mU1QK+m14rQ1l2bGBq41eYeM/fS"
    crossorigin="anonymous"></script>

  <script src="js/queryCmds.js" type="text/javascript"></script>
  <script src="js/getCurrentURL.js" type="text/javascript"></script>
  <script src="js/userNavbarToggle.js" type="text/javascript"></script>
  <script src="js/showUserPet.js" type="text/javascript"></script>



</body>

</html>